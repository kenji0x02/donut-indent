/**
 * donut-indent 0.0.1
 * Copyright (c) 2015, kenji0x02. MIT Licensed
 * https://github.com/kenji0x02/donut-indent 
 */
!function r(n,e,t){function a(o,i){if(!e[o]){if(!n[o]){var f="function"==typeof require&&require;if(!i&&f)return f(o,!0);if(u)return u(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=e[o]={exports:{}};n[o][0].call(d.exports,function(r){var e=n[o][1][r];return a(e?e:r)},d,d.exports,r,n,e,t)}return e[o].exports}for(var u="function"==typeof require&&require,o=0;o<t.length;o++)a(t[o]);return a}({1:[function(r,n,e){function t(r){var n=[],r=r.replace(/^#/,"");return n=6==r.length?r.match(/.{2}/g).map(function(r){return parseInt(r,16)}):r.split("").map(function(r){return parseInt(r+r,16)})}function a(r,n,e){return"#"+[r,n,e].map(function(r){return r.toString(16).replace(/^[0-9a-f]$/,"0$&")}).join("")}function u(r,n,e){var t,a,u;r/=255,n/=255,e/=255;var o=Math.max(Math.max(r,n),e),i=Math.min(Math.min(r,n),e);for(t=o==i?0:o==r?60*(n-e)/(o-i)+0:o==n?60*(e-r)/(o-i)+120:60*(r-n)/(o-i)+240;0>t;)t+=360;return a=(o+i)/2,u=o==i?0:.5>a?(o-i)/(o+i):(o-i)/(2-o-i),{h:t,l:a,s:u,type:"HLS"}}function o(r,n,e){for(var t,a,u;0>r;)r+=360;if(r%=360,0==e)return n=Math.round(255*n),{r:n,g:n,b:n,type:"RGB"};var o,i=.5>n?n*(1+e):n+e-n*e,f=2*n-i;return o=r+120,o>360&&(o-=360),t=60>o?f+(i-f)*o/60:180>o?i:240>o?f+(i-f)*(240-o)/60:f,o=r,a=60>o?f+(i-f)*o/60:180>o?i:240>o?f+(i-f)*(240-o)/60:f,o=r-120,0>o&&(o+=360),u=60>o?f+(i-f)*o/60:180>o?i:240>o?f+(i-f)*(240-o)/60:f,{r:Math.round(255*t),g:Math.round(255*a),b:Math.round(255*u),type:"RGB"}}n.exports.darken=function(r,n){var e=t(r),i=u(e[0],e[1],e[2]),f=o(i.h,i.l-.01*n,i.s);return a(f.r,f.g,f.b)}},{}],2:[function(r,n,e){!function(n){"use strict";function e(r){return n(r+":header").css("fontSize").replace("px","")-0}function t(r){return n(r+":header").css("line-height").replace("px","")-0}function a(r){return Math.round(.45*r)}function u(r,n){return Math.round(.05*n+.5*(r-n))}function o(r){return Math.round(.45*r)}function i(r,e,t){n(t).css("margin-top",e),n(t).css("margin-right",e),t.width=r,t.height=r}function f(r,n,e,t,a){var u=a.getContext("2d"),o=1.5707963267948966,i=-o,f=o*(.04*e-1);u.beginPath(),u.moveTo(n,n),u.arc(n,n,r,i,f,!1),u.fillStyle=t,u.fill()}function c(r){var n=r.replace("donut_indent_","").split("_").map(function(r){return r-0}),c="h"+n.filter(function(r,n,e){return 0!=r}).length,d=e(c),h=t(c),s=a(d),l=u(h,d),m=o(d),p=document.getElementById(r);i(2*s,l,p),n.forEach(function(r,n,e){var t=Math.round(s*v.radiusRatio[n]);f(t-1,m,100,"#fff",p),f(t,m,r,v.color[n],p)})}function d(r){var e={};v.headerTagNumbers.forEach(function(r){e[r]=0});var t=[];return n.each(r,function(r,a){var u=n.extend(!0,{},e);r>0&&(u=n.extend(!0,{},t[r-1]));var o=a.tagName.replace("H","")-0;u.headerNumber=o,u[o]+=1,v.headerTagNumbers.forEach(function(r){r>o&&(u[r]=0)}),t.push(u)}),t}function h(r){for(var n=1;n<r.length;n++){if(r[n].headerNumber<r[n-1].headerNumber){var e=v.headerTagNumbers.filter(function(e){return e>r[n].headerNumber});e.forEach(function(e,t,a){for(var u=r[n-1][e],o=n-1;o>0&&0!=r[o][e];o--)r[o][e]=Math.round(r[o][e]/u*100)})}n==r.length-1&&v.headerTagNumbers.forEach(function(e,t,a){for(var u=r[n][e],o=n;o>=0&&0!=r[o][e];o--)r[o][e]=Math.round(r[o][e]/u*100)})}return r}function s(r){var n=h(d(r));return n.map(function(r,n,e){return g+v.headerTagNumbers.map(function(n){return r[n]}).join("_")})}function l(r,e){n.each(r,function(r,t){n(t).wrap("<div></div>");var a='<div style="float:left;"><canvas id="'+e[r]+'"></div>';n(t).before(a)})}function m(){var r=n(":header"),e=s(r);l(r,e),e.forEach(function(r){c(r)})}var p=10,g="donut_indent_",v={};v={defaults:{indentDepth:3,color:"#59bb0c",gammmaValue:1.8},settings:n.extend(!0,{},v.defaults),init:function(e){var t=r("./color.js");v.settings=n.extend(v.defaults,e),v.headerTagNumbers=Array.apply(null,Array(v.settings.indentDepth)).map(function(r,n){return n+1}),v.radiusRatio=n.extend(!0,[],v.headerTagNumbers).reverse().map(function(r){return Math.pow(1*r/v.headerTagNumbers.length,1/v.settings.gammmaValue)}),v.color=v.headerTagNumbers.map(function(r){return t.darken(v.settings.color,p*(r-1))})}},n.donutIndent=function(r){v.init(r),m()}}(jQuery),$.donutIndent()},{"./color.js":1}]},{},[2]);